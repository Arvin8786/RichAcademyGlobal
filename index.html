<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Forever Living by Mohd Arvind Isa</title>
  <style>
    /* Base Styles */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background-color: #f5f5f5;
      color: #333;
      line-height: 1.6;
    }
    
    header {
      background-color: #2c8a58;
      color: white;
      padding: 20px 0;
      text-align: center;
    }
    
    nav {
      background-color: #1e6b48;
      padding: 10px 0;
    }
    
    nav ul {
      display: flex;
      justify-content: center;
      list-style: none;
    }
    
    nav li {
      margin: 0 15px;
    }
    
    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 4px;
      transition: background-color 0.3s;
    }
    
    nav a:hover {
      background-color: #164933;
    }
    
    main {
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    /* Product Styles */
    .product-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .product {
      background: white;
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }
    
    .product:hover {
      transform: translateY(-5px);
    }
    
    .product img {
      width: 100%;
      height: 200px;
      object-fit: contain;
      border-bottom: 1px solid #eee;
      padding-bottom: 10px;
      margin-bottom: 10px;
    }
    
    .price {
      color: #e67e22;
      font-weight: bold;
      margin: 10px 0;
    }
    
    .benefits, .consumption {
      font-size: 0.9em;
      margin-bottom: 10px;
    }
    
    .add-to-cart {
      background: #2c8a58;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 4px;
      cursor: pointer;
      width: 100%;
    }
    
    .whatsapp-btn {
      display: block;
      background: #25D366;
      color: white;
      text-align: center;
      padding: 8px 15px;
      border-radius: 4px;
      margin-top: 10px;
      text-decoration: none;
    }
    
    /* Cart Modal */
    #cart-modal {
      display: none;
      position: fixed;
      z-index: 100;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.8);
    }
    
    .cart-content {
      background-color: #fefefe;
      margin: 5% auto;
      padding: 20px;
      border-radius: 8px;
      width: 80%;
      max-width: 800px;
      position: relative;
    }
    
    .close {
      position: absolute;
      right: 20px;
      top: 10px;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }
    
    #cart-items {
      margin: 20px 0;
    }
    
    .cart-item {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #eee;
    }
    
    #cart-total {
      font-weight: bold;
      font-size: 1.2em;
      text-align: right;
      margin-top: 20px;
    }
    
    /* AI Suggestion Box */
    .ai-suggestion-box {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    /* New Search & Filter Styles */
    .search-filter-container {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin: 20px 0;
      padding: 15px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    #search-input {
      flex-grow: 1;
      padding: 10px 15px;
      border: 1px solid #ddd;
      border-radius: 4px;
      min-width: 200px;
    }
    
    .filter-dropdown {
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      background: white;
    }
    
    .filter-btn {
      background: #2c8a58;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 4px;
      cursor: pointer;
    }
    
    /* Quick View Modal */
    .quick-view-modal {
      display: none;
      position: fixed;
      z-index: 101;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.8);
      overflow: auto;
    }
    
    .quick-view-content {
      background-color: #fefefe;
      margin: 5% auto;
      padding: 30px;
      border-radius: 8px;
      width: 80%;
      max-width: 800px;
      position: relative;
      display: flex;
      gap: 30px;
    }
    
    .quick-view-close {
      position: absolute;
      right: 20px;
      top: 10px;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }
    
    .quick-view-image {
      width: 40%;
      max-height: 400px;
      object-fit: contain;
    }
    
    .quick-view-details {
      width: 60%;
    }
    
    /* Wishlist Styles */
    .wishlist-btn {
      background: #e67e22;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 4px;
      margin-top: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 5px;
      width: 100%;
    }
    
    .wishlist-btn.active {
      background: #d35400;
    }
    
    /* Reviews System */
    .reviews-container {
      margin-top: 20px;
      border-top: 1px solid #eee;
      padding-top: 20px;
    }
    
    .review {
      margin-bottom: 15px;
      padding-bottom: 15px;
      border-bottom: 1px solid #f5f5f5;
    }
    
    .review-author {
      font-weight: bold;
      color: #2c8a58;
    }
    
    .review-date {
      color: #999;
      font-size: 0.8em;
    }
    
    .review-rating {
      color: #e67e22;
      margin: 5px 0;
    }
    
    .add-review-btn {
      background: #2c8a58;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 4px;
      margin-top: 15px;
      cursor: pointer;
    }
    
    /* Version Timestamp */
    .version-timestamp {
      position: fixed;
      bottom: 10px;
      right: 10px;
      background: rgba(0,0,0,0.7);
      color: white;
      padding: 5px 10px;
      border-radius: 4px;
      font-size: 0.8em;
    }
    
    /* Responsive Improvements */
    @media (max-width: 768px) {
      .quick-view-content {
        flex-direction: column;
        width: 90%;
        padding: 20px;
      }
      
      .quick-view-image, .quick-view-details {
        width: 100%;
      }
      
      nav ul {
        flex-direction: column;
        align-items: center;
      }
      
      nav li {
        margin: 5px 0;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Forever Living Products</h1>
    <p>By Mohd Arvind Isa | Independent Distributor</p>
  </header>
  
  <nav>
    <ul>
      <li><a href="#" onclick="showTab('products')">Products</a></li>
      <li><a href="#" onclick="showTab('about')">About</a></li>
      <li><a href="#" onclick="showTab('contact')">Contact</a></li>
      <li><a href="#" onclick="showCart()">Cart (<span id="cart-count">0</span>)</a></li>
    </ul>
  </nav>
  
  <main>
    <div id="products" class="tab-content active">
      <div class="ai-suggestion-box">
        <h2>AI Product Suggestion</h2>
        <p>Based on your browsing history, we recommend trying our Aloe Vera Gel for digestive health and energy boost!</p>
      </div>
      
      <!-- Search & Filter Section -->
      <div class="search-filter-container">
        <input type="text" id="search-input" placeholder="Search products...">
        <select class="filter-dropdown" id="category-filter">
          <option value="">All Categories</option>
          <option value="nutrition">Nutrition</option>
          <option value="skincare">Skincare</option>
          <option value="bee">Bee Products</option>
          <option value="detox">Detox</option>
        </select>
        <select class="filter-dropdown" id="price-filter">
          <option value="">All Prices</option>
          <option value="0-50">Under RM50</option>
          <option value="50-100">RM50 - RM100</option>
          <option value="100-150">RM100 - RM150</option>
          <option value="150+">Over RM150</option>
        </select>
        <button class="filter-btn" onclick="filterProducts()">Filter</button>
      </div>
      
      <h2>Our Products</h2>
      <div id="product-list" class="product-list"></div>
    </div>
    
    <div id="about" class="tab-content">
      <h2>About Forever Living</h2>
      <p>Forever Living Products is the world's largest grower, manufacturer and distributor of aloe vera products...</p>
    </div>
    
    <div id="contact" class="tab-content">
      <h2>Contact Me</h2>
      <p>Mohd Arvind Isa</p>
      <p>Phone: +60 11-1103 3154</p>
      <p>Email: arvind@example.com</p>
    </div>
  </main>
  
  <!-- Cart Modal -->
  <div id="cart-modal" class="modal">
    <div class="cart-content">
      <span class="close" onclick="closeCart()">&times;</span>
      <h2>Your Shopping Cart</h2>
      <div id="cart-items"></div>
      <div id="cart-total">Total: RM 0.00</div>
      <button class="add-to-cart" onclick="checkout()">Proceed to Checkout</button>
    </div>
  </div>
  
  <!-- Quick View Modal -->
  <div id="quick-view-modal" class="quick-view-modal">
    <div class="quick-view-content">
      <span class="quick-view-close" onclick="closeQuickView()">&times;</span>
      <img id="quick-view-image" class="quick-view-image" src="" alt="Product Image">
      <div class="quick-view-details">
        <h2 id="quick-view-title"></h2>
        <div class="price" id="quick-view-price"></div>
        <div class="benefits" id="quick-view-benefits"></div>
        <div class="consumption" id="quick-view-consumption"></div>
        
        <div class="reviews-container" id="quick-view-reviews">
          <h3>Customer Reviews</h3>
          <div id="reviews-list"></div>
          <button class="add-review-btn" onclick="showReviewForm()">Add Review</button>
        </div>
        
        <div style="margin-top: 20px; display: flex; gap: 10px;">
          <button class="add-to-cart" id="quick-view-add-to-cart">Add to Cart</button>
          <button class="wishlist-btn" id="quick-view-wishlist">
            <span id="wishlist-text">Add to Wishlist</span> ♡
          </button>
          <a href="#" class="whatsapp-btn" id="quick-view-whatsapp">Order via WhatsApp</a>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Version Timestamp -->
  <div class="version-timestamp">Last Updated: 2024-01-15 14:30</div>

  <script>
    // Product Data
    const products = [
      {
        id: 1,
        name: "Aloe Vera Gel",
        price: 89.90,
        image: "https://example.com/aloe-gel.jpg",
        benefits: "Supports digestive health, boosts energy, and enhances nutrient absorption.",
        consumption: "Take 60-120ml daily, preferably on an empty stomach."
      },
      {
        id: 2,
        name: "Bee Propolis",
        price: 120.50,
        image: "https://example.com/bee-propolis.jpg",
        benefits: "Natural antibiotic properties, supports immune system, and helps with throat irritation.",
        consumption: "Take 1 tablet 3 times daily or as needed."
      },
      {
        id: 3,
        name: "Aloe Moisturizing Lotion",
        price: 65.00,
        image: "https://example.com/moisturizer.jpg",
        benefits: "Hydrates skin, reduces signs of aging, and soothes sunburns.",
        consumption: "Apply to skin as needed, especially after showering."
      },
      {
        id: 4,
        name: "Forever Arctic Sea",
        price: 145.00,
        image: "https://example.com/arctic-sea.jpg",
        benefits: "Omega-3 supplement for heart and brain health.",
        consumption: "Take 2 softgels daily with meals."
      }
    ];
    
    // Add categories and reviews to products
    products.forEach(product => {
      // Add categories
      if (product.name.toLowerCase().includes('aloe')) {
        product.category = 'nutrition';
        if (product.name.toLowerCase().includes('gel') || 
            product.name.toLowerCase().includes('nectar')) {
          product.category = 'detox';
        }
      }
      if (product.name.toLowerCase().includes('bee')) {
        product.category = 'bee';
      }
      if (product.name.toLowerCase().includes('cream') || 
          product.name.toLowerCase().includes('lotion') ||
          product.name.toLowerCase().includes('shampoo') ||
          product.name.toLowerCase().includes('soap')) {
        product.category = 'skincare';
      }
      
      // Add sample reviews
      product.reviews = [
        {
          author: "Siti A.",
          rating: 5,
          date: "2023-10-15",
          comment: "This product changed my life! I feel so much more energetic."
        },
        {
          author: "Rajesh K.",
          rating: 4,
          date: "2023-09-22",
          comment: "Good quality, delivery was fast. Will buy again."
        }
      ];
    });
    
    // Cart System
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
    
    function showTab(tabId) {
      document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
      });
      document.getElementById(tabId).classList.add('active');
    }
    
    function addToCart(productId) {
      const product = products.find(p => p.id === productId);
      if (!product) return;
      
      const existingItem = cart.find(item => item.id === productId);
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({ ...product, quantity: 1 });
      }
      
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
      alert(`${product.name} added to cart!`);
    }
    
    function updateCartCount() {
      const count = cart.reduce((total, item) => total + item.quantity, 0);
      document.getElementById('cart-count').textContent = count;
    }
    
    function showCart() {
      const modal = document.getElementById('cart-modal');
      const cartItems = document.getElementById('cart-items');
      const cartTotal = document.getElementById('cart-total');
      
      cartItems.innerHTML = '';
      let total = 0;
      
      if (cart.length === 0) {
        cartItems.innerHTML = '<p>Your cart is empty</p>';
      } else {
        cart.forEach(item => {
          const itemTotal = item.price * item.quantity;
          total += itemTotal;
          
          const itemElement = document.createElement('div');
          itemElement.className = 'cart-item';
          itemElement.innerHTML = `
            <span>${item.name} (${item.quantity})</span>
            <span>RM ${itemTotal.toFixed(2)}</span>
          `;
          cartItems.appendChild(itemElement);
        });
      }
      
      cartTotal.textContent = `Total: RM ${total.toFixed(2)}`;
      modal.style.display = 'block';
    }
    
    function closeCart() {
      document.getElementById('cart-modal').style.display = 'none';
    }
    
    function checkout() {
      alert('In a real implementation, this would redirect to checkout page');
      closeCart();
    }
    
    // New Search & Filter Functionality
    function filterProducts() {
      const searchTerm = document.getElementById('search-input').value.toLowerCase();
      const category = document.getElementById('category-filter').value;
      const priceRange = document.getElementById('price-filter').value;
      
      let filtered = products.filter(product => {
        // Search term filter
        const matchesSearch = product.name.toLowerCase().includes(searchTerm) || 
                            product.benefits.toLowerCase().includes(searchTerm);
        
        // Category filter
        const matchesCategory = !category || (product.category === category);
        
        // Price filter
        let matchesPrice = true;
        if (priceRange) {
          const [min, max] = priceRange.split('-').map(Number);
          if (max) {
            matchesPrice = product.price >= min && product.price <= max;
          } else {
            matchesPrice = product.price >= min;
          }
        }
        
        return matchesSearch && matchesCategory && matchesPrice;
      });
      
      renderProducts(filtered);
    }
    
    // Quick View Functions
    function showQuickView(productId) {
      const product = products.find(p => p.id === productId);
      if (!product) return;
      
      document.getElementById('quick-view-image').src = product.image;
      document.getElementById('quick-view-title').textContent = product.name;
      document.getElementById('quick-view-price').textContent = `RM ${product.price.toFixed(2)}`;
      document.getElementById('quick-view-benefits').innerHTML = `<strong>Benefits:</strong> ${product.benefits}`;
      document.getElementById('quick-view-consumption').innerHTML = `<strong>How to use:</strong> ${product.consumption}`;
      document.getElementById('quick-view-add-to-cart').onclick = () => {
        addToCart(productId);
        closeQuickView();
      };
      document.getElementById('quick-view-wishlist').onclick = () => toggleWishlist(productId);
      document.getElementById('quick-view-whatsapp').href = 
        `https://wa.me/601111033154?text=I%20want%20to%20buy%20${encodeURIComponent(product.name)}`;
      
      // Update wishlist button state
      const isInWishlist = wishlist.includes(productId);
      document.getElementById('wishlist-text').textContent = isInWishlist ? 'In Wishlist' : 'Add to Wishlist';
      document.getElementById('quick-view-wishlist').innerHTML = 
        `${isInWishlist ? 'In Wishlist ♥' : 'Add to Wishlist ♡'}`;
      
      // Display reviews
      const reviewsList = document.getElementById('reviews-list');
      reviewsList.innerHTML = product.reviews.map(review => `
        <div class="review">
          <div class="review-author">${review.author}</div>
          <div class="review-date">${review.date}</div>
          <div class="review-rating">${'★'.repeat(review.rating)}${'☆'.repeat(5-review.rating)}</div>
          <div class="review-comment">${review.comment}</div>
        </div>
      `).join('');
      
      document.getElementById('quick-view-modal').style.display = 'block';
    }
    
    function closeQuickView() {
      document.getElementById('quick-view-modal').style.display = 'none';
    }
    
    // Wishlist Functions
    function toggleWishlist(productId) {
      const index = wishlist.indexOf(productId);
      if (index === -1) {
        wishlist.push(productId);
      } else {
        wishlist.splice(index, 1);
      }
      
      localStorage.setItem('wishlist', JSON.stringify(wishlist));
      renderProducts();
      
      // Update quick view if open
      if (document.getElementById('quick-view-modal').style.display === 'block') {
        const quickViewProductId = parseInt(document.querySelector('.quick-view-details h2').getAttribute('data-id'));
        if (quickViewProductId === productId) {
          const isInWishlist = wishlist.includes(productId);
          document.getElementById('wishlist-text').textContent = isInWishlist ? 'In Wishlist' : 'Add to Wishlist';
          document.getElementById('quick-view-wishlist').innerHTML = 
            `${isInWishlist ? 'In Wishlist ♥' : 'Add to Wishlist ♡'}`;
        }
      }
    }
    
    // Review Functions
    function showReviewForm() {
      alert("Review form would appear here. In a full implementation, this would connect to a backend service.");
    }
    
    // Render Products
    function renderProducts(productsToRender = products) {
      const productList = document.getElementById('product-list');
      productList.innerHTML = productsToRender.map(product => `
        <div class="product" data-id="${product.id}" data-category="${product.category || 'other'}" data-price="${product.price}">
          <img src="${product.image}" alt="${product.name}" 
               onclick="showQuickView(${product.id})"
               onerror="this.onerror=null;this.src='https://via.placeholder.com/200x200?text=Product+Image'">
          <h3 onclick="showQuickView(${product.id})" style="cursor:pointer;">${product.name}</h3>
          <div class="price">RM ${product.price.toFixed(2)}</div>
          <div class="benefits"><strong>Benefits:</strong> ${product.benefits}</div>
          <button class="add-to-cart" onclick="addToCart(${product.id})">Add to Cart</button>
          <button class="wishlist-btn" onclick="toggleWishlist(${product.id})" data-id="${product.id}">
            ${wishlist.includes(product.id) ? 'In Wishlist ♥' : 'Add to Wishlist ♡'}
          </button>
          <a href="https://wa.me/601111033154?text=I%20want%20to%20buy%20${encodeURIComponent(product.name)}" 
             class="whatsapp-btn">Order via WhatsApp</a>
        </div>
      `).join('');
    }
    
    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      renderProducts();
      updateCartCount();
      showTab('products');
      
      // Close modals when clicking outside
      window.onclick = function(event) {
        const modal = document.getElementById('cart-modal');
        if (event.target === modal) {
          modal.style.display = "none";
        }
        
        const quickView = document.getElementById('quick-view-modal');
        if (event.target === quickView) {
          quickView.style.display = "none";
        }
      }
      
      // Search as you type
      document.getElementById('search-input').addEventListener('input', filterProducts);
      
      // Update timestamp with current date/time
      const now = new Date();
      const timestamp = document.querySelector('.version-timestamp');
      timestamp.textContent = `Last Updated: ${now.toISOString().split('T')[0]} ${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
    });
  </script>
</body>
</html>
